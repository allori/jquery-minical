<h1 id="jqueryminical">jQuery.minical</h1>

<h2 id="usage">Usage</h2>

<p>Call <code>.minical()</code> on a text (or date) input, or the element containing a set of month/day/year dropdowns.</p>

<h2 id="requirements">Requirements</h2>

<ul>
  <li>jQuery (tested through 2.0.3)</li>
  <li><a href="https://github.com/camerond/jquery-minical/blob/master/views/coffeescript/jquery.minical.coffee">jquery.minical.coffee</a> (or the <a href="https://github.com/camerond/jquery-minical/blob/master/public/javascript/jquery.minical.js">generated javascript</a>)</li>
  <li><a href="https://github.com/camerond/jquery-minical/blob/master/views/stylesheets/jquery.minical.sass">jquery.minical.sass</a> (or the <a href="http://jquery-minical.heroku.com/stylesheets/jquery.minical.css">generated css</a>)</li>
  <li><a href="https://github.com/camerond/jquery-minical/blob/master/public/images/jquery_minical_icons.png">jquery_minical_icons.png</a></li>
</ul>

<p>Feel free to <a href="https://github.com/camerond/jquery-minical">check out the source on GitHub</a>.</p>

<h2 id="why-its-awesome">Why It's Awesome</h2>

<p>Minical is teeny (~4KB minified and gzipped), with no dependencies other than its icon PNG and stylesheet (which has SASS variables for easy customization).</p>

<p>It has full keyboard support (press enter to open/close the calendar, arrows to choose a day, enter to select a day) and also defaults to make the associated input read-only, so its value can only be changed by the date format specified in the plugin. (It also works great in iOS, with just enough touch event handling to behave properly.)</p>

<p>To aid in customization and general sanity, its markup is also nice and lean. Here's the DOM construction of Minical:</p>

<ul>
  <li><code>ul.minical</code> contains all elements, with id <code>#minical_calendar_0</code> and so on (for multiple instances on a page).
    <ul>
      <li><code>li</code> - given class <code>.minical_jan</code> and so on for each month.
        <ul>
          <li><code>article</code>
            <ul>
              <li><code>header</code>
                <ul>
                  <li><code>a.minical_next</code></li>
                  <li><code>a.minical_prev</code></li>
                  <li><code>h1</code></li>
                </ul>
              </li>
              <li><code>section</code>
                <ul>
                  <li><code>table</code>
                    <ul>
                      <li><code>thead</code>
                        <ul>
                          <li><code>tr</code>
                            <ul>
                              <li><code>th</code></li>
                            </ul>
                          </li>
                        </ul>
                      </li>
                      <li><code>tbody</code>
                        <ul>
                          <li><code>tr</code>
                            <ul>
                              <li><code>td.minical_day</code> for each day</li>
                              <li><code>td.minical_day_[m_d_yyyy]</code> for each unique day (e.g. <code>minical_day_1_1_2011</code>)</li>
                              <li><code>td.minical_today</code> for the current day</li>
                              <li><code>td.minical_past_month</code> for days of previous month</li>
                              <li><code>td.minical_future_month</code> for days of next month</li>
                              <li><code>td.minical_disabled</code> for unselectable days</li>
                              <li><code>td.minical_selected</code> for the currently selected day in inputs/dropdowns</li>
                              <li><code>td.minical_highlighted</code> for the currently highlighted day
                                <ul>
                                  <li><code>a</code></li>
                                </ul>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="options">Options</h2>

<ul>
  <li><code>offset</code>: positions calendar relative to the bottom-left corner of the input
    <ul>
      <li><code>x</code> defaults to 0</li>
      <li><code>y</code> defaults to 5</li>
    </ul>
  </li>
  <li><code>trigger</code>: A function (run in the context of the minical-enhanced input) that returns a jQuery object of the desired trigger, or a string selector to specify a trigger element (like the calendar icon in the examples). The string selector can be a child or sibling of the element on which you call <code>.minical()</code>.</li>
  <li><code>align_to_trigger</code>: set to <code>true</code> to align the calendar to the trigger instead of the input. (Defaults to true if a trigger is available)</li>
  <li><code>read_only</code>: makes the date/text input only modifiable by the calendar (defaults to true)</li>
  <li><code>date_format</code>: allows you to output a custom date format from the chosen Date object (defaults to MM/DD/YYYY)</li>
  <li><code>from</code> and <code>to</code>: date objects specifying min and max valid dates (defaults to null, autodetected if using dropdowns)</li>
  <li><code>date_changed</code>: callback that fires after the input or dropdowns have changed value</li>
  <li><code>month_drawn</code>: callback that fires when a new month is rendered</li>
  <li><code>appendCalendarTo</code>: should return a jQuery object; the calendar element will attach to this (defaults to <code>&lt;body&gt;</code>)</li>
  <li><code>write_initial_value</code>: true by default; writes an initial value to the input element if one is provided via data attribute (see 'Initializing' below)</li>
</ul>

<h2 id="initializing">Initializing</h2>

<p>Javascript date parsing is a pain, and it's entirely possible that the date format you want displayed in your input is not one that JS can parse. If your page ever loads with a value already in the Minical-enabled input, Minical needs a Javascript-parseable date in order to set its initial value properly.</p>

<p>In this case, you can just output a <code>data-minical-initial</code> attribute on your input element, give it a Javascript-parseable string, and Minical will initialize using that attribute instead of attempting to parse the value of your input.</p>

<p>Either string or integer formats will work, but the most foolproof <code>data-minical-initial</code> attribute seems to be JavaScript's conversion of a date object to an integer (e.g. <code>+my_date_object</code>):</p>

<p><code>
&lt;input data-minical-initial="1386967591204"&gt;
</code></p>

<h3 id="if-youre-using-select-tags-like-in-the-second-example-above">If you're using <code>&lt;select&gt;</code> tags (like in the second example above):</h3>

<ul>
  <li><code>dropdowns.month</code>, <code>dropdowns.day</code>, <code>dropdowns.year</code> string selectors specifying each select tag</li>
</ul>

<h2 id="sweet-can-you-make-it-animate--display-more-than-one-month--select-a-range--display-on-the-page-permanently--select-the-time-also--fix-me-a-delicious-omelet">Sweet! Can you make it animate / display more than one month / select a range / display on the page permanently / select the time also / fix me a delicious omelet?</h2>

<p>I'll be adding features as required by Hashrocket projects, and don't have any intention of reaching feature parity with a robust platform like jQuery UI. Just use the jQuery UI Datepicker if you need that stuff (I'm not certain whether it makes omelets, however).</p>
